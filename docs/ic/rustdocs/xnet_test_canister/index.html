<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `xnet_test_canister` crate."><meta name="keywords" content="rust, rustlang, rust-lang, xnet_test_canister"><title>xnet_test_canister - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../dark.css"><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script src="../storage.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="shortcut icon" href="../favicon.ico"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../xnet_test_canister/index.html'><div class='logo-container'><img src='../rust-logo.png' alt='logo'></div></a><p class='location'>Crate xnet_test_canister</p><div class="sidebar-elems"><a id='all-types' href='all.html'><p>See all xnet_test_canister's items</p></a><div class="block items"><ul><li><a href="#structs">Structs</a></li><li><a href="#constants">Constants</a></li><li><a href="#functions">Functions</a></li></ul></div><p class='location'></p><script>window.sidebarCurrent = {name: 'xnet_test_canister', ty: 'mod', relpath: '../'};</script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><a id="settings-menu" href="../settings.html"><img src="../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../src/xnet_test_canister/main.rs.html#1-305' title='goto source code'>[src]</a></span><span class='in-band'>Crate <a class="mod" href=''>xnet_test_canister</a></span></h1><div class='docblock'><p>This module contains a canister used for XNet integration test.</p>
<p>In order to build it, run:</p>
<pre><code class="language-text">cargo build --target wasm32-unknown-unknown --release
</code></pre>
</div><h2 id='structs' class='section-header'><a href="#structs">Structs</a></h2>
<table><tr class='module-item'><td><a class="struct" href="struct.MessagingState.html" title='xnet_test_canister::MessagingState struct'>MessagingState</a></td><td class='docblock-short'><p>State of the XNet messaging.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.Reply.html" title='xnet_test_canister::Reply struct'>Reply</a></td><td class='docblock-short'><p>A <code>Reply</code> to the <code>Request</code> message, sent from the &quot;handle_request&quot; method.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.Request.html" title='xnet_test_canister::Request struct'>Request</a></td><td class='docblock-short'><p>Request sent by the &quot;fanout&quot; method.</p>
</td></tr></table><h2 id='constants' class='section-header'><a href="#constants">Constants</a></h2>
<table><tr class='module-item'><td><a class="constant" href="constant.METRICS.html" title='xnet_test_canister::METRICS constant'>METRICS</a></td><td class='docblock-short'><p>Various metrics observed by this canister, e.g. message latency distribution.</p>
</td></tr><tr class='module-item'><td><a class="constant" href="constant.NETWORK_TOPOLOGY.html" title='xnet_test_canister::NETWORK_TOPOLOGY constant'>NETWORK_TOPOLOGY</a></td><td class='docblock-short'><p>The configuration of the subnets that should be specified in the init
argument on canister install. A <code>Vec</code> of subnets, each a <code>Vec</code> of canister IDs.</p>
</td></tr><tr class='module-item'><td><a class="constant" href="constant.PAYLOAD_SIZE.html" title='xnet_test_canister::PAYLOAD_SIZE constant'>PAYLOAD_SIZE</a></td><td class='docblock-short'><p>Pad requests AND responses to this size (in bytes) if smaller.</p>
</td></tr><tr class='module-item'><td><a class="constant" href="constant.PER_SUBNET_RATE.html" title='xnet_test_canister::PER_SUBNET_RATE constant'>PER_SUBNET_RATE</a></td><td class='docblock-short'><p>Number of requests to send to each subnet (other than ours) every round.</p>
</td></tr><tr class='module-item'><td><a class="constant" href="constant.RNG.html" title='xnet_test_canister::RNG constant'>RNG</a></td><td class='docblock-short'><p>The pseudo-random number generator we use to pick the next canister to talk to.
It doesn't need to be cryptographically secure, we just want it to be simple and fast.
The default values for state and stream parameters come from the official documentation:
https://rust-random.github.io/rand/rand_pcg/struct.Lcg64Xsh32.html</p>
</td></tr><tr class='module-item'><td><a class="constant" href="constant.RUNNING.html" title='xnet_test_canister::RUNNING constant'>RUNNING</a></td><td class='docblock-short'><p>Whether this canister is generating traffic.</p>
</td></tr><tr class='module-item'><td><a class="constant" href="constant.STATE.html" title='xnet_test_canister::STATE constant'>STATE</a></td><td class='docblock-short'><p>State of the messaging that we use to check invariants (e.g., sequence
numbers).</p>
</td></tr></table><h2 id='functions' class='section-header'><a href="#functions">Functions</a></h2>
<table><tr class='module-item'><td><a class="fn" href="fn.candid_encode_padded.html" title='xnet_test_canister::candid_encode_padded fn'>candid_encode_padded</a></td><td class='docblock-short'><p>Encodes <code>t</code> as Candid, padded to <code>PAYLOAD_SIZE</code>.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.candid_reply.html" title='xnet_test_canister::candid_reply fn'>candid_reply</a></td><td class='docblock-short'><p>Calls &quot;msg_reply&quot; with reply being argument encoded as Candid.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.fanout.html" title='xnet_test_canister::fanout fn'>fanout</a></td><td class='docblock-short'><p>An internal endpoint that sends a messages to a random canister on each of
the remote subnets. This endpoint is repeatedly triggered from the &quot;start&quot;
call.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.handle_request.html" title='xnet_test_canister::handle_request fn'>handle_request</a></td><td class='docblock-short'><p>Endpoint that handles requests from canisters located on remote subnets.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.is_running.html" title='xnet_test_canister::is_running fn'>is_running</a></td><td class='docblock-short'><p>Returns true if this canister should continue generating traffic.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.log.html" title='xnet_test_canister::log fn'>log</a></td><td class='docblock-short'><p>Appends a message to the log, ensuring log size stays below 2000 bytes.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.main.html" title='xnet_test_canister::main fn'>main</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="fn" href="fn.metrics.html" title='xnet_test_canister::metrics fn'>metrics</a></td><td class='docblock-short'><p>Query call that serializes metrics as a candid message.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.on_reject.html" title='xnet_test_canister::on_reject fn'>on_reject</a></td><td class='docblock-short'><p>Callback for handling reject responses from &quot;handle_request&quot;.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.on_reply.html" title='xnet_test_canister::on_reply fn'>on_reply</a></td><td class='docblock-short'><p>Callback for handling replies from &quot;handle_request&quot;.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.schedule_fanout.html" title='xnet_test_canister::schedule_fanout fn'>schedule_fanout</a></td><td class='docblock-short'><p>Enqueues a <code>fanout()</code> &quot;loopback&quot; call for next round.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.start.html" title='xnet_test_canister::start fn'>start</a></td><td class='docblock-short'><p>Initializes network topology and instructs this canister to start sending
requests to other canisters.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.stop.html" title='xnet_test_canister::stop fn'>stop</a></td><td class='docblock-short'><p>Stops traffic.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.time_nanos.html" title='xnet_test_canister::time_nanos fn'>time_nanos</a></td><td class='docblock-short'><p>Returns system time in nanoseconds.</p>
</td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../";window.currentCrate = "xnet_test_canister";</script><script src="../main.js"></script><script defer src="../search-index.js"></script></body></html>